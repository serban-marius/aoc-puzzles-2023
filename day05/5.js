const example =
    "seeds: 79 14 55 13\n" +
    "\n" +
    "seed-to-soil map:\n" +
    "50 98 2\n" +
    "52 50 48\n" +
    "\n" +
    "soil-to-fertilizer map:\n" +
    "0 15 37\n" +
    "37 52 2\n" +
    "39 0 15\n" +
    "\n" +
    "fertilizer-to-water map:\n" +
    "49 53 8\n" +
    "0 11 42\n" +
    "42 0 7\n" +
    "57 7 4\n" +
    "\n" +
    "water-to-light map:\n" +
    "88 18 7\n" +
    "18 25 70\n" +
    "\n" +
    "light-to-temperature map:\n" +
    "45 77 23\n" +
    "81 45 19\n" +
    "68 64 13\n" +
    "\n" +
    "temperature-to-humidity map:\n" +
    "0 69 1\n" +
    "1 0 69\n" +
    "\n" +
    "humidity-to-location map:\n" +
    "60 56 37\n" +
    "56 93 4";

const input =
    "seeds: 91926764 235794528 3279509610 325625103 2781720183 218217413 1315129829 102999617 3995609239 143268116 358337926 185836835 1543999077 241888600 1795811745 806228439 2616560939 56204204 869828854 224520829\n" +
    "\n" +
    "seed-to-soil map:\n" +
    "2076625497 3385713231 258448094\n" +
    "933162806 1124446801 128749435\n" +
    "744984268 625015359 188178538\n" +
    "551924411 211563684 96582495\n" +
    "2664738738 2072311374 297142807\n" +
    "1406760174 813193897 14102104\n" +
    "0 1274151473 331435427\n" +
    "403777493 976299883 148146918\n" +
    "1987639580 2783535044 88985917\n" +
    "4074594902 3332858447 52854784\n" +
    "1484055780 86124597 125439087\n" +
    "331435427 371339681 72342066\n" +
    "1146768491 1605586900 152911849\n" +
    "3283022369 2992105862 70998045\n" +
    "648506906 528537997 96477362\n" +
    "1609494867 827296001 149003882\n" +
    "3685297224 3111036616 121638972\n" +
    "1420862278 308146179 63193502\n" +
    "2961881545 3644161325 321140824\n" +
    "1061912241 443681747 56957522\n" +
    "4127449686 2872520961 119584901\n" +
    "3806936196 2497318144 139794743\n" +
    "3585114365 3232675588 100182859\n" +
    "1118869763 500639269 27898728\n" +
    "2335073591 3965302149 329665147\n" +
    "3984585308 2407308550 90009594\n" +
    "1320635577 0 86124597\n" +
    "1841217423 2637112887 146422157\n" +
    "4247034587 3063103907 47932709\n" +
    "1299680340 1253196236 20955237\n" +
    "3354020414 1841217423 231093951\n" +
    "3946730939 2369454181 37854369\n" +
    "\n" +
    "soil-to-fertilizer map:\n" +
    "3384134166 1995234330 176305237\n" +
    "1155226403 855999534 411447090\n" +
    "2208613005 3459130785 737289315\n" +
    "3115190977 2188772380 56379264\n" +
    "3046023331 2245151644 69167646\n" +
    "3287350250 3362346869 96783916\n" +
    "0 688893976 167105558\n" +
    "199962926 1300303992 576627555\n" +
    "1566673493 0 380943110\n" +
    "1995234330 2314319290 213378675\n" +
    "776590481 380943110 307950866\n" +
    "3560439403 2527697965 734527893\n" +
    "2945902320 3262225858 100121011\n" +
    "1084541347 1876931547 70685056\n" +
    "3229639031 4196420100 40478406\n" +
    "3270117437 2171539567 17232813\n" +
    "167105558 1267446624 32857368\n" +
    "3171570241 4236898506 58068790\n" +
    "\n" +
    "fertilizer-to-water map:\n" +
    "2261570026 3454758517 88568015\n" +
    "1802864872 1796719466 196521844\n" +
    "1029796290 924285105 94936250\n" +
    "1502956048 1019221355 34573577\n" +
    "1675836952 4234138393 33837263\n" +
    "383249040 0 273576862\n" +
    "1124732540 457794332 53985776\n" +
    "2350138041 2091507351 48912742\n" +
    "1674136750 1795019264 1700202\n" +
    "3859927050 2781536522 163983633\n" +
    "90982234 273576862 129799649\n" +
    "1537529625 511780108 260859\n" +
    "2488789087 1993241310 98266041\n" +
    "2196492990 3543326532 49319261\n" +
    "2254009624 2694827028 7560402\n" +
    "2587055128 3111811340 69748037\n" +
    "2002799677 4168500219 65638174\n" +
    "840643879 512040967 108011574\n" +
    "1390364751 688875858 8559931\n" +
    "1398924682 721632529 104031366\n" +
    "656825902 620052541 68823317\n" +
    "1709674215 3189756750 73094246\n" +
    "2068437851 1671843595 123175669\n" +
    "73501861 906804732 17480373\n" +
    "2656803165 3853597757 225164158\n" +
    "3592079857 3612742204 240855553\n" +
    "2191613520 2945520155 4879470\n" +
    "2881967323 2950399625 161411715\n" +
    "0 1085334645 69517503\n" +
    "725649219 697435789 24196740\n" +
    "2245812251 3181559377 8197373\n" +
    "220781883 1375323327 162467157\n" +
    "3270779999 2140420093 321299858\n" +
    "2399050783 4078761915 89738304\n" +
    "4023910683 2702387430 79149092\n" +
    "69517503 1053794932 3984358\n" +
    "1782768461 3592645793 20096411\n" +
    "1308391575 1057779290 27555355\n" +
    "749845959 1154852148 61727890\n" +
    "1671843595 2692533873 2293155\n" +
    "1335946930 403376511 54417821\n" +
    "3832935410 4267975656 26991640\n" +
    "3043379038 2461719951 227400961\n" +
    "948655453 825663895 81140837\n" +
    "4103059775 3262850996 191907521\n" +
    "1999386716 2689120912 3412961\n" +
    "1178718316 1216580038 129673259\n" +
    "811573849 1346253297 29070030\n" +
    "\n" +
    "water-to-light map:\n" +
    "12536522 803922375 381092756\n" +
    "1034093555 2274122448 375903462\n" +
    "4046347183 3727145496 30218294\n" +
    "1644177017 1468743601 210972620\n" +
    "2033158562 0 65899273\n" +
    "3918690677 4044943223 48984895\n" +
    "3252369528 2650025910 46811980\n" +
    "3846317697 4159436488 72372980\n" +
    "825337225 701230416 92775221\n" +
    "708443948 3110054761 116893277\n" +
    "4281152040 4231809468 13815256\n" +
    "4076565477 3945094008 99849215\n" +
    "467053271 262914333 56912139\n" +
    "457136533 794005637 9916738\n" +
    "4176414692 3757363790 104737348\n" +
    "1960807084 319826472 72351478\n" +
    "3983208893 4096298198 63138290\n" +
    "2099057835 2696837890 179036871\n" +
    "3400708401 4093928118 2370080\n" +
    "393629278 2210615193 63507255\n" +
    "2278094706 1723463860 487151333\n" +
    "3351365829 4245624724 49342572\n" +
    "523965410 65899273 184478538\n" +
    "1855149637 595572969 105657447\n" +
    "2765246039 1185015131 283728470\n" +
    "961860085 3226948038 72233470\n" +
    "3967675572 3711612175 15533321\n" +
    "3486071351 3351365829 360246346\n" +
    "3403078481 3862101138 82992870\n" +
    "918112446 1679716221 43747639\n" +
    "1409997017 2875874761 234180000\n" +
    "0 250377811 12536522\n" +
    "3048974509 392177950 203395019\n" +
    "\n" +
    "light-to-temperature map:\n" +
    "3663115998 2273256818 16619810\n" +
    "1779396221 3140211126 35421643\n" +
    "1671064478 2289876628 5675989\n" +
    "2459496143 2164474153 65282060\n" +
    "1676740467 3228344832 68171740\n" +
    "3108268812 3396614149 34367621\n" +
    "0 1247024027 117995309\n" +
    "3142636433 2302123739 520479565\n" +
    "3914906966 3296516572 48028032\n" +
    "1451315146 20271696 29756177\n" +
    "3962934998 1685507004 235533336\n" +
    "3679735808 3872604190 235171158\n" +
    "201522431 0 20271696\n" +
    "2606764356 2257434699 15822119\n" +
    "1095940165 930151315 235007724\n" +
    "2092197835 2032400258 15603728\n" +
    "1814817864 4107775348 187191948\n" +
    "2107801563 3430981770 351694580\n" +
    "221794127 50027873 874146038\n" +
    "2524778203 2082488000 81986153\n" +
    "4205039456 3811944039 60660151\n" +
    "2622586475 1921040340 111359918\n" +
    "3051554215 3344544604 52069545\n" +
    "1605883623 1648004635 37502369\n" +
    "3103623760 1643359583 4645052\n" +
    "1412812877 1442569054 38502269\n" +
    "2039485772 3175632769 52712063\n" +
    "123972713 1365019336 77549718\n" +
    "1744912207 2048003986 34484014\n" +
    "4198468334 2295552617 6571122\n" +
    "2733946393 2822603304 317607822\n" +
    "117995309 924173911 5977404\n" +
    "1330947889 1165159039 81864988\n" +
    "2002009812 1605883623 37475960\n" +
    "4265699607 3782676350 29267689\n" +
    "1643385992 2229756213 27678486\n" +
    "\n" +
    "temperature-to-humidity map:\n" +
    "1358631653 987873070 147949589\n" +
    "2413964705 2097965649 70341317\n" +
    "816457527 972386794 15486276\n" +
    "2080824412 2168306966 250363611\n" +
    "958855341 2055074721 42890928\n" +
    "1948315905 1968747613 86327108\n" +
    "1810667112 2669632213 137648793\n" +
    "2484306022 857156868 115229926\n" +
    "1001746269 1523646763 356885384\n" +
    "1641013697 687503453 169653415\n" +
    "2698691839 0 56146061\n" +
    "4138641394 2975929973 156325902\n" +
    "831943803 2418670577 38696072\n" +
    "3039761928 4068116224 226851072\n" +
    "870639875 1880532147 88215466\n" +
    "2975929973 3132255875 63831955\n" +
    "3839900820 3497181952 298740574\n" +
    "3567707122 3795922526 272193698\n" +
    "3266613000 3203991608 293190344\n" +
    "83162889 56146061 361318942\n" +
    "1506581242 553070998 134432455\n" +
    "2754837900 500627892 52443106\n" +
    "2034643013 1135822659 46181399\n" +
    "786124536 2556522540 30332991\n" +
    "2599535948 2457366649 99155891\n" +
    "3559803344 3196087830 7903778\n" +
    "0 417465003 83162889\n" +
    "444481831 1182004058 341642705\n" +
    "2331188023 2586855531 82776682\n" +
    "\n" +
    "humidity-to-location map:\n" +
    "1050996268 1532072704 311260544\n" +
    "3180071790 2724566227 289337188\n" +
    "4221284312 3899164493 35309413\n" +
    "3807278034 2656088631 16719113\n" +
    "1362256812 2203016881 453071750\n" +
    "338253566 1843333248 359683633\n" +
    "697937199 1009396889 40111814\n" +
    "2970507299 3589172780 195028044\n" +
    "2338906915 3808103383 1357317\n" +
    "1879134746 3052743004 5325923\n" +
    "1815328562 346829408 63806184\n" +
    "3899164493 3972847477 185700981\n" +
    "2340264232 0 83356697\n" +
    "2610350026 3013903415 38839589\n" +
    "0 671143323 338253566\n" +
    "2423620929 3402443683 186729097\n" +
    "738049013 1049508703 312947255\n" +
    "1884460669 561071833 110071490\n" +
    "3714686766 254238140 92591268\n" +
    "3469408978 1362455958 169616746\n" +
    "2799625856 83356697 170881443\n" +
    "3639025724 3784200824 23902559\n" +
    "4084865474 4158548458 136418838\n" +
    "1994532159 3058068927 344374756\n" +
    "4256593725 3934473906 38373571\n" +
    "3165535343 3809460700 14536447\n" +
    "2649189615 410635592 150436241\n" +
    "3662928283 2672807744 51758483";

// let inputArray = example.split('\n\n');
let inputArray = input.split('\n\n');

let seeds = inputArray[0].replace(/seeds:\W+/g,'');
seeds = stringArrayToNumberArray(seeds.split(" "));
console.log(seeds);

// SEED TO SOIL
let soil = alchemy(seeds, inputArray[1]);

console.log(soil);

// SOIL TO FERTILIZER
let fertilizer = alchemy(soil, inputArray[2]);

// FERTILIZER TO WATER
let water = alchemy(fertilizer, inputArray[3]);

// WATER TO LIGHT
let light = alchemy(water, inputArray[4]);

// LIGHT TO TEMPERATURE
let temperature = alchemy(light, inputArray[5]);

// TEMPERATURE TO HUMIDITY
let humidity = alchemy(temperature, inputArray[6]);

// HUMIDITY TO LOCATION
let location = alchemy(humidity, inputArray[7]);

console.log(Math.min(...location));

function splitMaps(string) {
    return stringArrayToNumberArray(string.split(" "));
}

function getMap(array) {
    let arraySplit = array.split("\n");
    console.log(arraySplit);
    arraySplit.shift(); // Remove title
    console.log(arraySplit);
    console.log(arraySplit.map(splitMaps));
    return arraySplit.map(splitMaps);
}

function getRelationArray(array) {
    let relationArray = []
    array.forEach(map => {
        let source = map[1];
        let destination = map[0];
        let range = map[2];
        let sourceFinal = +source + +range;
        relationArray.push([source, sourceFinal, destination])
    })

    return relationArray;
}

// function getRelationArray(array) {
//     let relationArray = []
//     array.forEach(map => {
//         let source = map[1];
//         let destination = map[0];
//         for (let x = 0; x < map[2]; x++) {
//             relationArray[+source + x] = +destination + x;
//         }
//     })
//
//     return relationArray;
// }

function translate(arrayToTranslate, relationArray) {
    let translatedArray = [];

    arrayToTranslate.forEach(translate => {
        let translated = false;
        for (let i = 0; i < relationArray.length; i++){
            const map = relationArray[i];
            if (translate > map[0] && translate < map[1]) {
                console.log("HERE! Map ---> " + JSON.stringify(map) + " | Translate --> " + translate);
                translatedArray.push(+translate - +map[0] + +map[2]);
                translated = true;
                break;
            }
        }

        if (!translated) translatedArray.push(+translate);
    })

    return translatedArray;
}

// function translate(arrayToTranslate, relationArray) {
//     let translatedArray = [];
//
//     arrayToTranslate.forEach(translate => {
//         if (translate in relationArray) translatedArray.push(relationArray[translate]);
//         else translatedArray.push(+translate);
//     })
//
//     return translatedArray;
// }

function alchemy(object, map) {
    let objectToGold = getMap(map)

    console.log(objectToGold);

    let relationArray = getRelationArray(objectToGold);

    return translate(object, relationArray);
}

function stringArrayToNumberArray(stringArray) {
    let numberArray = [];
    for (let i = 0; i < stringArray.length; i++)
        numberArray.push(parseInt(stringArray[i]));

    return numberArray;
}